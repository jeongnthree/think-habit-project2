-- Think-Habit Lite 기본 시드 데이터
-- 개발 및 테스트용 기본 데이터

-- 기본 카테고리 데이터 (이미 schema에 포함되어 있지만 별도 관리)
INSERT INTO categories (id, name, description, template, is_active) VALUES
('550e8400-e29b-41d4-a716-446655440001', '비판적 사고', '정보를 분석하고 평가하는 능력을 기르는 훈련', 
'오늘 접한 정보나 상황에 대해 다음 질문들을 생각해보세요:
1. 이 정보의 출처는 신뢰할 만한가?
2. 다른 관점에서는 어떻게 볼 수 있을까?
3. 숨겨진 가정이나 편견은 없을까?
4. 결론을 내리기에 충분한 근거가 있는가?', true),

('550e8400-e29b-41d4-a716-446655440002', '창의적 사고', '새로운 아이디어를 생성하고 문제를 창의적으로 해결하는 능력', 
'오늘의 창의적 사고 훈련:
1. 해결하고 싶은 문제나 개선하고 싶은 상황은?
2. 기존의 접근 방식은 무엇인가?
3. 전혀 다른 관점에서 접근한다면?
4. 새로운 아이디어 3가지를 제시해보세요.', true),

('550e8400-e29b-41d4-a716-446655440003', '논리적 사고', '체계적이고 논리적으로 사고하는 능력을 기르는 훈련', 
'논리적 사고 연습:
1. 오늘 내린 중요한 결정이나 판단은?
2. 그 결정의 근거와 논리는 무엇인가?
3. 논리적 오류나 빈틈은 없었는가?
4. 더 나은 논리적 접근 방법은?', true),

('550e8400-e29b-41d4-a716-446655440004', '감정 조절', '감정을 인식하고 적절히 관리하는 능력', 
'감정 조절 성찰:
1. 오늘 경험한 강한 감정은?
2. 그 감정의 원인과 배경은?
3. 감정에 어떻게 반응했는가?
4. 더 건설적인 반응 방법은?', true),

('550e8400-e29b-41d4-a716-446655440005', '의사소통', '효과적으로 소통하고 관계를 형성하는 능력', 
'의사소통 돌아보기:
1. 오늘 중요한 대화나 소통 상황은?
2. 상대방의 입장을 충분히 이해했는가?
3. 내 의견을 명확하게 전달했는가?
4. 더 나은 소통 방법은?', true)

ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  description = EXCLUDED.description,
  template = EXCLUDED.template,
  is_active = EXCLUDED.is_active,
  updated_at = now();

-- 테스트용 사용자 프로필 (실제 환경에서는 Supabase Auth를 통해 생성)
-- 주의: 실제 사용자 ID는 Supabase Auth에서 생성된 UUID를 사용해야 함
INSERT INTO user_profiles (id, user_id, email, full_name, role) VALUES
('550e8400-e29b-41d4-a716-446655440010', '550e8400-e29b-41d4-a716-446655440000', 'student@example.com', '테스트 학습자', 'student'),
('550e8400-e29b-41d4-a716-446655440011', '550e8400-e29b-41d4-a716-446655440001', 'admin@example.com', '관리자', 'admin'),
('550e8400-e29b-41d4-a716-446655440012', '550e8400-e29b-41d4-a716-446655440002', 'teacher@example.com', '선생님', 'teacher')

ON CONFLICT (user_id) DO UPDATE SET
  email = EXCLUDED.email,
  full_name = EXCLUDED.full_name,
  role = EXCLUDED.role,
  updated_at = now();

-- 테스트용 할당 데이터
INSERT INTO assignments (id, student_id, category_id, assigned_by, weekly_goal, start_date, is_active) VALUES
('550e8400-e29b-41d4-a716-446655440020', '550e8400-e29b-41d4-a716-446655440000', '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440001', 3, CURRENT_DATE, true),
('550e8400-e29b-41d4-a716-446655440021', '550e8400-e29b-41d4-a716-446655440000', '550e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440001', 2, CURRENT_DATE, true),
('550e8400-e29b-41d4-a716-446655440022', '550e8400-e29b-41d4-a716-446655440000', '550e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440001', 1, CURRENT_DATE, true)

ON CONFLICT (student_id, category_id) DO UPDATE SET
  weekly_goal = EXCLUDED.weekly_goal,
  assigned_by = EXCLUDED.assigned_by,
  is_active = EXCLUDED.is_active,
  updated_at = now();

-- 테스트용 샘플 일지 데이터
INSERT INTO journals (id, student_id, category_id, title, content, journal_type, is_public) VALUES
('550e8400-e29b-41d4-a716-446655440030', '550e8400-e29b-41d4-a716-446655440000', '550e8400-e29b-41d4-a716-446655440001', 
'뉴스 기사 비판적 분석', 
'오늘 읽은 뉴스 기사에 대해 비판적으로 분석해보았습니다.

1. 정보의 출처: 신뢰할 만한 언론사이지만, 인용된 전문가의 배경을 더 확인해볼 필요가 있었습니다.
2. 다른 관점: 기사에서 제시한 관점 외에도 경제적, 사회적 측면에서 다르게 해석할 수 있었습니다.
3. 숨겨진 가정: 기사 작성자가 특정 정치적 성향을 가지고 있을 가능성을 고려해야 했습니다.
4. 근거의 충분성: 통계 데이터는 충분했지만, 더 다양한 사례가 필요해 보였습니다.

이런 분석을 통해 정보를 더 객관적으로 받아들일 수 있게 되었습니다.', 
'structured', true),

('550e8400-e29b-41d4-a716-446655440031', '550e8400-e29b-41d4-a716-446655440000', '550e8400-e29b-41d4-a716-446655440002', 
'일상 문제 창의적 해결', 
'집에서 공간 활용 문제를 창의적으로 해결해보았습니다.

1. 문제 상황: 작은 방에서 책상과 침대를 모두 배치하기 어려운 상황
2. 기존 접근법: 가구를 벽에 붙여서 배치하는 일반적인 방법
3. 새로운 관점: 수직 공간 활용과 다기능 가구 활용
4. 창의적 아이디어:
   - 침대 아래 공간을 책상으로 활용하는 로프트 베드
   - 벽면 선반을 책상으로 겸용하는 폴딩 데스크
   - 수납과 책상을 겸하는 맞춤 가구 제작

결과적으로 폴딩 데스크를 설치하여 공간을 효율적으로 활용할 수 있게 되었습니다.', 
'structured', false)

ON CONFLICT (id) DO NOTHING;

-- 테스트용 댓글 데이터
INSERT INTO comments (id, journal_id, author_id, content, comment_type) VALUES
('550e8400-e29b-41d4-a716-446655440040', '550e8400-e29b-41d4-a716-446655440030', '550e8400-e29b-41d4-a716-446655440001', 
'정말 체계적으로 분석하셨네요! 특히 숨겨진 가정을 찾아내는 부분이 인상적입니다. 다음에는 반대 의견도 찾아보시면 더 좋을 것 같아요.', 
'advice'),

('550e8400-e29b-41d4-a716-446655440041', '550e8400-e29b-41d4-a716-446655440031', '550e8400-e29b-41d4-a716-446655440002', 
'창의적인 해결책이네요! 실제로 적용해보신 결과가 어떤지 궁금합니다. 다른 공간 문제도 이런 식으로 접근해보시면 좋을 것 같아요.', 
'encouragement')

ON CONFLICT (id) DO NOTHING;